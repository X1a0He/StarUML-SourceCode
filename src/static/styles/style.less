/*
* Copyright (c) 2013-2014 Minkyu Lee. All rights reserved.
*
* NOTICE:  All information contained herein is, and remains the
* property of Minkyu Lee. The intellectual and technical concepts
* contained herein are proprietary to Minkyu Lee and may be covered
* by Republic of Korea and Foreign Patents, patents in process,
* and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Minkyu Lee (niklaus.lee@gmail.com).
*
*/

html,body {
  padding: 0;
  margin: 0;
  font: 13px @sansFontFamily;
  text-shadow: @ui-widget-text-shadow;
  font-weight: @ui-widget-text-weight;
  -webkit-font-smoothing: antialiased;
  overflow: hidden;
  background-color: @ui-layer0-background-color;
  color: @ui-widget-text-color;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

h1, h2, h3, h4, h5, h6 {
  font-weight: 500;
}

h1 {
  font-size: 1.7em;
}

pre {
  background-color: #f8f8f8;
  padding: 1em;
  border-radius: 2px;
  font-weight: 400;
}

button, input, select, textarea {
  font: 13px @sansFontFamily;
  font-weight: @ui-widget-text-weight;
  -webkit-font-smoothing: antialiased;
}

a {
  color: lighten(@ui-widget-active-color, 10%);
  text-decoration: none;
}

.splash-screen {
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  background-color: #3b3f41;
  z-index: 20000;
}

/* ===== Widgets =========================================================== */

hr {
  margin: 0;
  border-top: 1px solid @ui-layer1-border-bottom-color;
  border-bottom: 1px solid @ui-layer1-border-top-color;
  border-left: 0;
  border-right: 0;
}

label.header {
  display: inline-block;
  color: @ui-widget-header-text-color;
  text-shadow: none; // @ui-widget-header-text-shadow;
}

/* ===== UI Styles ========================================================= */

/* ----- Working Diagrams ------------------------------------------------ */

.working-diagrams {
  
  ul.listview {
    padding: 0;
    margin: 0;
    
    li.working-diagram {
      display: inline-block;
      padding: 0.2em 0.7em;
      margin: 0;
      width: 100%;
      white-space: nowrap;
      overflow: hidden;
      border-top: 1px solid transparent;
      border-bottom: 1px solid transparent;
      box-sizing: border-box;
      
      .close-button {
        background-image: none;
        background-repeat: no-repeat;
        display: inline-block;
        vertical-align: middle;
        width: 16px;
        height: 16px;
        margin-bottom: 2px;
        cursor: pointer;
      }
      
      .diagram-icon {
        vertical-align: middle;
        margin-bottom: 2px;
      }

      .parent {
        font-size: 11px;
        color: @ui-widget-frozen-text-color;
        text-shadow: @ui-widget-frozen-text-shadow;
      }
    }
    
    .working-diagram.selected {
      color: @ui-widget-selected-text-color;
      background-color: @ui-layer0-selected-color;
      border-top: 1px solid transparent; // @ui-layer0-border-bottom-color;
      border-bottom: 1px solid transparent; // @ui-layer0-border-top-color;
    }
    
    .working-diagram:hover {
      .close-button {
        background-image: url("@{image-folder}/close-button.svg");
      }
      
      .close-button:hover {
        background-image: url("@{image-folder}/close-button.svg");
        background-position: -15px 0px;
      }
    }
  }
}

/* ----- Toolbox ----------------------------------------------------------- */

@toolbox-header-height: 55px;

#toolbox {
  
  .view-holder {
    
    .view-header {
      height: @toolbox-header-height;
      
      .buttons {
        text-align: center;
      }
    }
    
    .view-content {
      top: @toolbox-header-height;
    }
    
  }
  
}

/* ----- Model Explorer ---------------------------------------------------------- */

#model-explorer {
  
  .treeview-wrapper {
    margin: 0;
    padding: 0;
    padding-left: 1em;
    
    .treeview {
    }    
  }
  
  #model-explorer-quick-search-wrapper {
    span.icon-tool-search {
      position: absolute;
      z-index: 1;
      left: 8px;
      top: 6px;
    }

    span.k-widget.k-autocomplete {
      width: 100%;
      height: 22px;
      padding: 0;
      padding-right: 1.5em;
      border-radius: 1em;
      border: none; // 1px solid transparent; // @widget-border-color;
      box-shadow: none;

      & > input.k-input {
        margin: 0;
        padding: 0 0 0 1.5em;
        background-color: @ui-widget-sunken-color; // lighten(@input-background-color, 2%);
        color: @input-text-color;
        box-shadow: none; // @ui-widget-sunken-box-shadow;
        vertical-align: top;
        border-radius: 1em;
        border: 1px solid @widget-border-color; // lighten(@input-background-color, 2%);

        &:active, &:hover {
          background-color: lighten(@ui-widget-sunken-color, 3%);
        }

        &:focus {
          border-color: @ui-widget-primary-color; // lighten(@ui-widget-sunken-color, 3%);
        }
      }
    }
  }
  
}

/* ----- Property Editor --------------------------------------------------- */

.property-grid {
  background: transparent;
  width: 100%;
  padding: 0; /*0.5em 1.2em;*/
  border-spacing: 0;
  
  td {
    padding-top: 2px;
    padding-bottom: 2px;
    padding-left: 0.5px;
    height: 25px;
    
    &:first-child {
      width: 30%;
      vertical-align: baseline;
      text-align: right;
      padding-top: 5px;
      padding-right: 0.7em;
      height: 20px;
    }
    
    &:last-child {
      width: 70%;
    }
    
    .property-name {
      color: fade(@widget-text-color, 50);
    }
    
    &.ui-property-separator {
      height: 1.5em;
      margin: 0;
      padding: 0;
      vertical-align: middle;
      
      & > div {
        border-bottom: 1px solid #424445;
        text-align: right;
        margin: 0;
        padding: 0;
        height: 1px;
      }
    }
    
    span.k-autocomplete {
      box-shadow: none;
      & > input {
        padding-top: 0.1em;
        padding-bottom: 0.1em;
      }
    }
    
  }
  
}

.property-grid .k-textbox,
.property-grid .k-dropdown,
.property-grid .k-combobox
{
  width: 100%;
}

/* Diagram Manager --------------------------------------------------------- */

#diagram-manager {
  margin: 0;
  padding: 0;
  border: 0;
}

#diagram-area {
  margin: 0;
  padding: 0;
  background-color: #fff;
  border: 1px solid @ui-widget-border-color;
  overflow: scroll;
}

#diagram-area.ui-state-disabled {
  background-color: @ui-widget-color;
  border: 1px solid @ui-widget-border-color;
  overflow: hidden;
}

/* ----- Quick Edit ------------------------------------------------------- */

@quick-edit-background-color: white;
@quick-edit-border-color: #c9c9c9;
@quick-edit-text-color: black;
@quick-edit-shadow: rgba(0, 0, 0, 0.1) 1px 1px 2px 0px;
@quick-edit-focus-color: @ui-widget-primary-color;
@quick-edit-hover-color: darken(@quick-edit-background-color, 5%);
@quick-edit-active-color: darken(@quick-edit-background-color, 10%);

.quick-edit {
  display: inline-block;
  position: absolute;
  z-index: 9000;
  outline: none;
  
  & > input.quick-edit-input {
    box-sizing: border-box;
    position: absolute;
    top: 0px;
    margin: 0;
    padding-top: 0px;
    padding-bottom: 0px;
    padding-left: 0px;
    padding-right: 0px;
    border: 1px solid @quick-edit-border-color;
    border-radius: 2px;
    box-shadow: @quick-edit-shadow;
    
    &:hover {
      background-color: @quick-edit-hover-color;
      border-color: darken(@quick-edit-border-color, 5%);
    }

    &:focus {
      outline: none;
      box-shadow: none; // inset 0 1px rgba(255,255,255,0.36), @focused-shadow;
      border: 1px solid @quick-edit-focus-color;
    }
  }
  
  & > textarea.quick-edit-textarea {
    box-sizing: border-box;
    position: absolute;
    top: 0px;
    margin: 0;
    padding-left: 3px;
    padding-right: 3px;
    border: 1px solid @quick-edit-border-color;
    border-radius: 3px;
    box-shadow: @quick-edit-shadow;
    
    &:focus {
      outline: none;
      border-color: @quick-edit-focus-color;
    }
  }
  
  & > button.k-button {
    box-sizing: border-box;
    background-color: @quick-edit-background-color;
    border-color: @quick-edit-border-color;
    border-radius: 2px;
    color: @quick-edit-text-color;
    box-shadow: @quick-edit-shadow;
    cursor: pointer;
    
    &:focus {
      // background-color: @hover-background-color;
      border-color: @quick-edit-focus-color;
    }

    &:hover {
      background-color: @quick-edit-hover-color;
      border-color: darken(@quick-edit-border-color, 5%);
    }

    &:active {
      background-color: @quick-edit-active-color;
    }
  }
  
  & > .quick-edit-combo {
    box-sizing: border-box;
    background: transparent;
    
    input {
      box-sizing: border-box;
      box-shadow: @quick-edit-shadow;
      background-color: @quick-edit-background-color;
      border-color: @quick-edit-border-color;
      color: @quick-edit-text-color;

      &:hover {
        background-color: @quick-edit-hover-color;
        border-color: darken(@quick-edit-border-color, 5%);
      }

      &:focus {
        border-color: @quick-edit-focus-color;
      }
    }

    .k-combo > select {
      background-color: @quick-edit-background-color;
      border-color: @quick-edit-border-color;
      color: @quick-edit-text-color;
    }
  }

  ul.k-menu.quick-edit-dropdown {
    box-shadow: @quick-edit-shadow;
    background-color: @quick-edit-background-color;
    border-color: @quick-edit-border-color;
    color: @quick-edit-text-color;

    & > li.k-item {

      & > .k-link {
        color: @quick-edit-text-color;
      }

      &:hover, &.k-state-hover {
        background-color: @quick-edit-hover-color;
        color: @quick-edit-text-color;
      }

      &:active {
        background-color: @quick-edit-active-color;
        color: @quick-edit-text-color;
      }
    }
  }
  
}

/* ------------ Command Palette ------------------ */

.command-palette-wrapper {
  position: absolute;
  top: 0px;
  left: 0px;
  right: 0px;
  z-index: 1;
  display: none; // to show: flex
  justify-content: center;
  align-items: flex-start;

  .command-palette {
    height: 24px;
    width: 400px;
    background-color: @ui-layer0-background-color;
    padding: 0.3rem 0.3rem;
    padding-top: 0.05rem;
    border-bottom-left-radius: .3rem;
    border-bottom-right-radius: .3rem;
    box-shadow: 1px 1px 1px 0px rgba(0,0,0,0.3);

    span.k-widget.k-autocomplete {
      width: 100%;
      height: 24px;
      padding: 0;
      padding-right: .2em;
      border: 1px solid @widget-border-color;
      
      & > input.k-input {
        margin: 0;
        padding: 0 0 0 .2em;
        background-color: @input-background-color;
        color: @input-text-color;
        box-shadow: @ui-widget-sunken-box-shadow;
        vertical-align: top;
      }

      &.k-state-focused {
        border-color: @focused-border-color;
      }
    }
  }
}

#command-palette-input_listbox {

  li.k-item {
    .command-palette-item {
      display: flex;
      justify-content: space-between;
      white-space: nowrap;
  
      div:nth-child(2) {
        text-align: right;
        color: @ui-widget-header-text-color;
      }
    }
    
    &.k-state-focused {
      background-color: @ui-widget-hover-color;
    }
  }

}

/* ------------ Quick Find ------------------ */

.quick-find-wrapper {
  position: absolute;
  top: 0px;
  left: 0px;
  right: 0px;
  z-index: 1;
  display: none; // to show: flex
  justify-content: center;
  align-items: flex-start;

  .quick-find {
    height: 24px;
    width: 480px;
    background-color: @ui-layer0-background-color;
    padding: 0.3rem 0.3rem;
    padding-top: 0.05rem;
    border-bottom-left-radius: .3rem;
    border-bottom-right-radius: .3rem;
    box-shadow: 1px 1px 1px 0px rgba(0,0,0,0.3);

    span.k-widget.k-autocomplete {
      width: 100%;
      height: 24px;
      padding: 0;
      padding-right: .2em;
      border: 1px solid @widget-border-color;
      
      & > input.k-input {
        margin: 0;
        padding: 0 0 0 .2em;
        background-color: @input-background-color;
        color: @input-text-color;
        box-shadow: @ui-widget-sunken-box-shadow;
        vertical-align: top;
      }

      &.k-state-focused {
        border-color: @focused-border-color;
      }
    }
  }
}

#quick-find-input_listbox {

  li.k-item {
    .quick-find-item {
      display: flex;
      justify-content: space-between;
      white-space: nowrap;
  
      div:nth-child(2) {
        text-align: right;
        color: @ui-widget-header-text-color;
      }
    }
    
    &.k-state-focused {
      background-color: @ui-widget-hover-color;
    }
  }

}

/* ---------- CSS3 Spinner ----------------- */

.spinner {
  height:20px;
  width:20px;
  margin:20px auto;
  position:relative;
  -webkit-animation: rotation .6s infinite linear;
  -moz-animation: rotation .6s infinite linear;
  -o-animation: rotation .6s infinite linear;
  animation: rotation .6s infinite linear;
  border-left:6px solid rgba(0,174,239,.15);
  border-right:6px solid rgba(0,174,239,.15);
  border-bottom:6px solid rgba(0,174,239,.15);
  border-top:6px solid rgba(0,174,239,.8);
  border-radius:100%;
}

@-webkit-keyframes rotation {
  from {-webkit-transform: rotate(0deg);}
  to {-webkit-transform: rotate(359deg);}
}

@-moz-keyframes rotation {
  from {-moz-transform: rotate(0deg);}
  to {-moz-transform: rotate(359deg);}
}

@-o-keyframes rotation {
  from {-o-transform: rotate(0deg);}
  to {-o-transform: rotate(359deg);}
}

@keyframes rotation {
  from {transform: rotate(0deg);}
  to {transform: rotate(359deg);}
}
